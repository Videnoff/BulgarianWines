!function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a='<?xml version="1.0" encoding="utf-8"?><svg version="1.1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',s={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,hover:!0,readOnly:!1,spacing:"0px",rtl:!1,multiColor:null,onInit:null,onChange:null,onSet:null,starSvg:null},u="#c0392b",c="#f1c40f";function l(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}function f(t,e,n){return t===e?t=e:t===n&&(t=n),t}function p(t,e,n){if(!(t>=e&&t<=n))throw Error("Invalid Rating, expected value between "+e+" and "+n);return t}function d(t,e){return n(t)===e}function h(t){return void 0!==t}var g=function(t){return d(t,"function")},m=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;function v(t){if(!m.test(t))return null;var e=m.exec(t);return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}}function y(t,e,n){var r=n/100*(e-t);return 1===(r=Math.round(t+r).toString(16)).length&&(r="0"+r),r}function b(t,e,n){if(!t||!e)return null;n=h(n)?n:0,t=v(t),e=v(e);var r=y(t.r,e.r,n),o=y(t.b,e.b,n);return"#"+r+y(t.g,e.g,n)+o}var w={};function k(t){return w[t]||(w[t]=new String(t))}var x=new WeakMap;function S(t,e,n){n=k(n);var r=x.get(t);r||x.set(t,r=new WeakMap);var o=r.get(n);o||r.set(n,o=new Map);var i=o.get(e);if(i)return i;function a(n){var r=n.detail;e.call(t,n,r)}return o.set(e,a),a}S.get=function(t,e,n){n=k(n);var r=x.get(t);if(!r)return e;var o=r.get(n);return o&&o.get(e)||e};var O=g(window.Event)?window.Event:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bubbles,r=void 0!==n&&n,o=e.cancelable,i=void 0!==o&&o,a=document.createEvent("Event");return a.initEvent(t,r,i),a},j=g(window.CustomEvent)?window.CustomEvent:(j.prototype=Object.create(O.prototype),j),E={trigger:function(t,e){var n={bubbles:!0};return h(e)?this.node.dispatchEvent(new j(t,i({detail:e},n))):this.node.dispatchEvent(new O(t,n)),this},on:function(t,e){return this.node.addEventListener(t,S(this.node,e,t)),this},off:function(t,e){return this.node.removeEventListener(t,S.get(this.node,e,t)),this}},C=/^rateyo(.+)$/;function F(t,e,n){var r=t.className.trim(),o=r&&r.split(/\s/)||[],i={};if(o=o.reduce((function(t,e,n){return i.hasOwnProperty(e)||(t.push(e),i[e]=n),t}),[]),e===F.add){if(i.hasOwnProperty(n))return;o.push(n)}else if(e===F.remove){if(!i.hasOwnProperty(n))return;o.splice(i[n],1)}t.className=o.join(" ")}function P(t){this.node=t}function A(t){var e=this;this.collection=[],Array.prototype.forEach.call(t,(function(t){e.collection.push(new P(t))}))}F.add="add",F.remove="remove",P.prototype={empty:function(){return this.node.innerHTML="",this},addClass:function(t){return F(this.node,F.add,t),this},removeClass:function(t){return F(this.node,F.remove,t),this},appendTo:function(t){return(P.isEl(t)?t.node:t).appendChild(this.node),this},css:function(t,e){return this.node.style[t]=e,this},width:function(t){if(!h(t))return this.node.getBoundingClientRect().width;this.css("width",t+(d(t,"number")?"px":""))},find:function(t){return M(this.node.querySelectorAll(t))},attr:function(t){for(var e in t)t.hasOwnProperty(e)&&this.node.setAttribute(e,t[e]);return this},removeAttr:function(t){return this.node.removeAttribute(t),this},children:function(){return M(this.node.childNodes)},remove:function(){return this.node.remove()},offset:function(){var t=this.node.getBoundingClientRect();return{top:t.top,left:t.left,bottom:t.bottom,right:t.right}},dataAttrOptions:function(){var t=this.node.dataset;return Object.keys(t).reduce((function(e,n){var r=n.match(C);if(!r)return e;var o=r[1];return e[o[0].toLowerCase()+o.slice(1)]=t[n],e}),{})}},P.prototype=i(i({},P.prototype),E),P.isEl=function(t){return t instanceof P},A.isCollection=function(t){return t instanceof A},A.prototype={};var q=function(t){if(!P.prototype.hasOwnProperty(t))return"continue";A.prototype[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.collection.forEach((function(e){return P.isEl(e)&&e[t].apply(e,n)})),this}};for(var z in P.prototype)q(z);var I=new DOMParser;function M(t){var e;return t=d(t,"string")&&(e=t,I.parseFromString(e.trim(),"text/html").body.childNodes)||t,P.isEl(t)||A.isCollection(t)?t:t instanceof NodeList?new A(t):new P(t)}M.El=P;var V=new WeakMap;function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof W))return new W(t,e);if(V.has(t))return V.get(t);var n=this;this.node=t;var r=M(t);e=i(i(i({},s),e),r.dataAttrOptions()),r.empty().addClass("jq-ry-container");var o,d,g,m,v,y,w=M(document.createElement("div")).addClass("jq-ry-group-wrapper").appendTo(r),k=M(document.createElement("div")).addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(w),x=M(document.createElement("div")).addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(w),S=0,O=e.rating,j=!1;function E(t){h(t)||(t=e.rating),O=t;var n=t/o,r=n*g;n>1&&(r+=(Math.ceil(n)-1)*v),z(e.ratedFill),(r=e.rtl?100-r:r)<0?r=0:r>100&&(r=100),x.css("width",r+"%")}function C(){y=d*e.numStars+m*(e.numStars-1),g=d/y*100,v=m/y*100,r.width(y),E()}function F(t){var n=e.starWidth=t;return d=window.parseFloat(e.starWidth.replace("px","")),k.find("svg").attr({width:e.starWidth,height:n}),x.find("svg").attr({width:e.starWidth,height:n}),C(),r}function P(t){return e.spacing=t,m=parseFloat(e.spacing.replace("px","")),k.find("svg:not(:first-child)").css("margin-left",t),x.find("svg:not(:first-child)").css("margin-left",t),C(),r}function A(t){return e.normalFill=t,(e.rtl?x:k).find("svg").attr({fill:e.normalFill}),r}var q=e.ratedFill;function z(t){if(e.multiColor){var n=(O-S)/e.maxValue*100,o=e.multiColor||{};t=b(o.startColor||u,o.endColor||c,n)}else q=t;return e.ratedFill=t,(e.rtl?k:x).find("svg").attr({fill:e.ratedFill}),r}function I(t){t=!!t,e.rtl=t,A(e.normalFill),E()}function T(t){e.multiColor=t,z(t||q)}function N(t){e.numStars=t,o=e.maxValue/e.numStars,k.empty(),x.empty();for(var n=0;n<e.numStars;n++)M(e.starSvg||a).appendTo(k),M(e.starSvg||a).appendTo(x);return F(e.starWidth),A(e.normalFill),P(e.spacing),E(),r}function D(t){return e.maxValue=t,o=e.maxValue/e.numStars,e.rating>t&&X(t),E(),r}function L(t){return e.precision=t,X(e.rating),r}function $(t){return e.halfStar=t,r}function _(t){return e.fullStar=t,r}function B(t){var n=t%o,r=o/2,i=e.halfStar,a=e.fullStar;return a||i?(a||i&&n>r?t+=o-n:(t-=n,n>0&&(t+=r)),t):t}function R(t){var n=k.offset().left,r=n+k.width(),i=e.maxValue,a=t.pageX,s=0;if(a<n)s=S;else if(a>r)s=i;else{var u=(a-n)/(r-n);if(m>0)for(var c=u*=100;c>0;)c>g?(s+=o,c-=g+v):(s+=c/g*o,c=0);else s=u*e.maxValue;s=B(s)}return e.rtl&&(s=i-s),parseFloat(s)}function H(t){return e.readOnly=t,r.attr({readonly:!0}),rt(),t||(r.removeAttr("readonly"),nt()),r}function X(t){var n=t,o=e.maxValue;return"string"==typeof n&&("%"===n[n.length-1]&&(n=n.substr(0,n.length-1),D(o=100)),n=parseFloat(n)),p(n,S,o),n=parseFloat(n.toFixed(e.precision)),f(parseFloat(n),S,o),e.rating=n,E(),j&&r.trigger("rateyo.set",{rating:n}),r}function Y(t){return e.onInit=t,r}function G(t){return e.onSet=t,r}function J(t){return e.onChange=t,r}function K(t){if(e.hover){var n=R(t).toFixed(e.precision),o=e.maxValue;E(n=f(parseFloat(n),S,o)),r.trigger("rateyo.change",{rating:n})}}function Q(){!l()&&e.hover&&(E(),r.trigger("rateyo.change",{rating:e.rating}))}function U(t){var r=R(t).toFixed(e.precision);r=parseFloat(r),n.rating(r)}function Z(t,r){e.onInit&&"function"==typeof e.onInit&&e.onInit.apply(this,[r.rating,n])}function tt(t,r){e.onChange&&"function"==typeof e.onChange&&e.onChange.apply(this,[r.rating,n])}function et(t,r){e.onSet&&"function"==typeof e.onSet&&e.onSet.apply(this,[r.rating,n])}function nt(){r.on("mousemove",K).on("mouseenter",K).on("mouseleave",Q).on("click",U).on("rateyo.init",Z).on("rateyo.change",tt).on("rateyo.set",et)}function rt(){r.off("mousemove",K).off("mouseenter",K).off("mouseleave",Q).off("click",U).off("rateyo.init",Z).off("rateyo.change",tt).off("rateyo.set",et)}this.rating=function(t){return h(t)?(X(t),r):e.rating},this.destroy=function(){return e.readOnly||rt(),V.delete(t),r.removeClass("jq-ry-container").children().remove(),r},this.method=function(t){if(!t)throw Error("Method name not specified!");if(!h(this[t]))throw Error("Method "+t+" doesn't exist!");var e=Array.prototype.slice.apply(arguments,[]),n=e.slice(1),r=this[t];return r.apply(this,n)},this.option=function(t,n){if(!h(t))return e;var r;switch(t){case"starWidth":r=F;break;case"numStars":r=N;break;case"normalFill":r=A;break;case"ratedFill":r=z;break;case"multiColor":r=T;break;case"maxValue":r=D;break;case"precision":r=L;break;case"rating":r=X;break;case"halfStar":r=$;break;case"fullStar":r=_;break;case"readOnly":r=H;break;case"spacing":r=P;break;case"rtl":r=I;break;case"onInit":r=Y;break;case"onSet":r=G;break;case"onChange":r=J;break;default:throw Error("No such option as "+t)}return h(n)?r(n):e[t]},N(e.numStars),H(e.readOnly),e.rtl&&I(e.rtl),V.set(t,this),this.rating(e.rating,!0),j=!0,r.trigger("rateyo.init",{rating:e.rating})}Object.defineProperty(W.prototype,"on",{value:function(t,e){return M(this.node).on(t,e),this}}),Object.defineProperty(W.prototype,"off",{value:function(t,e){return M(this.node).off(t,e),this}}),Object.defineProperty(W,"has",{value:function(t){return V.has(t)}}),Object.defineProperty(W,"get",{value:function(t){return V.get(t)}}),Object.defineProperty(W,"_$",{get:function(){return M}});var T=W._$,N=T.El.prototype.trigger;function D(n){var r=t(this);if(0===r.length)return r;var o=Array.prototype.slice.apply(arguments,[]);if(0===o.length)n=o[0]={};else{if(1!==o.length||"object"!==e(o[0])){if(o.length>=1&&"string"==typeof o[0]){var i=o[0],a=o.slice(1),s=[];return t.each(r,(function(t,e){var n=W.get(e);if(!n)throw Error("Trying to set options before even initialization");var r=n[i];if(!r)throw Error("Method "+i+" does not exist!");var o=r.apply(n,a);s.push(o)})),s=1===s.length?s[0]:s}throw Error("Invalid Arguments")}n=o[0]}return t.each(r,(function(){return new W(this,t.extend({},n))}))}T.El.prototype.trigger=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];N.apply(this,r),(e=t(this.node)).trigger.apply(e,r)},t.fn.rateYo=function(){return D.apply(this,Array.prototype.slice.apply(arguments,[]))}}($);
